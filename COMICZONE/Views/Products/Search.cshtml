@using System.Globalization;
@using COMICZONE.Extensions;
@model IEnumerable<COMICZONE.Models.Product>

@if (!string.IsNullOrWhiteSpace(ViewBag.Keyword))
{
    <h4 class="search-title">
        Kết quả tìm kiếm cho: "<strong>@ViewBag.Keyword</strong>"
    </h4>
}
@if (!string.IsNullOrEmpty(ViewBag.Message))
{
    <p class="text-warning">@ViewBag.Message</p>
}
else if (Model.Any())
{
    <div class="row row-cols-1 row-cols-md-3 g-4 search-results">
        @foreach (var item in Model)
        {
            <div class="col">
                <div class="product-card">
                    <a asp-action="Details" asp-route-id="@item.Id" class="product-img">
                        <img src="@item.GetImagePath()" alt="@item.Name" />
                    </a>
                    <div class="product-body">
                        <div class="product-price">
                            @string.Format(CultureInfo.GetCultureInfo("vi-VN"), "{0:N0}", item.Price) ₫
                        </div>
                        <a asp-action="Details" asp-route-id="@item.Id" class="product-name">
                            @item.Name
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
}
else
{
    <p class="text-muted mt-3">Không tìm thấy sản phẩm nào phù hợp với từ khóa.</p>
}